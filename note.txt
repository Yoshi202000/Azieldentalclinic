doctor account settings have error with pushing the services array that cannot remove all services from mongodb before updating the services

I have to create an admin, doctor, superadmin dashboard (done but need to fix the content)

- superadmin dashboard
can view all the information from both clinic 
    - view profile(no need to have an services array so hidden)
    - view/edit appointment 
    - view statistic (daily, weekly, monthly sales chart)
    - view patient information (including patient basic information, health information, tooth chart information)
    - no edit schedule (becasue admin is not doctor)
    - add/remove admin/doctor for both clinic(can chooose from 2 clinic as a admin of the clinic)
    - can edit content of the clinic(only for the super admin)
    - View FeedBack(done)

- admin dashboard per clinic
can view all the information from own and all patient information for both clinic patient
own clinic == token information 
    - view profile(no need to have an services array so hidden)
    - view/edit appointment for own clinic appointment(with adding record health record, and fees for appointmetn)
    - add an fee(should included with view/edit appointment)
    - view statistic for own clinic (daily, weekly, monthly sales chart for own clinic)
    - view patient information for both clinic (including patient basic information, health information, tooth chart information)
    - no edit schedule (becasue admin is not doctor)
    - add/remove admin/doctor own clinic (can only choose from own clinic as a admin of the clinic)
    - View FeedBack (done)

- doctor dashboard
own clinic == from token information 
    - viewAppointment filter by own clinic for own clinic appointment(with health record, and fees for appointmetn)
    - view profile(has same error  as line 1)
    - view/edit appointment for own appointment 
    - add an fee per appointment
    - view patient information for both clinic
    - edit schedule  
    - edit schedule is not yet inputted
    - View FeedBack 

notification via email and navigation bar navigation bar is done for email notification is done
 - next problem is to send the notification reminder with delay of 1 month 

more convenient manage scheduling for doctor

appointmentStepTwo date and time from today done
 - next problem is to make unavailable the taken schedule for appoinemtn slot 
 - need to make two variable for slot to make it send from testStepTwo.jsx to appointment.jsx 

apply the fee function to doctor, and admin dashboard
    - done for doctor 
    - need an health record before proceed to fee


notification error that the logic cannot fetch the user role. if statement is not identifying the user role


CREATE NEW FUNCTION 
dental health record for every appointment
    - start with schema for both child and adult tooth chart
    - next is to create an backend that can push both child and adult tooth chart 
    - next is to create a frontend that can pick if the patient is child or adult
    - next is to create a frontend that is visible with image of the tooth and input detail of the tooth 
    - next is to create a buton that can push the input detail to the mongodb 
    - next is to create a backend that can pull the record of the health record of the patient with email address
    - next is to create an page that can view the health record of the patient with the dashboard patient information